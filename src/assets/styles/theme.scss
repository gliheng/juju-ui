@use "sass:color";
@use "sass:list";

@mixin use-theme($c, $t: white) {
  --j-primary-color: #{$c};
  // these lighter colors are not transparent
  // --j-primary-color-light: #{color.scale($c, $lightness: 40%)};
  // --j-primary-color-lighter: #{color.scale($c, $lightness: 80%)};
  // however these transparent colors are better for dark mode
  --j-primary-color-light: #{rgba($c, 0.5)};
  --j-primary-color-lighter: #{rgba($c, 0.2)};
  --j-primary-color-text: #{$t}; // the text color on primary colored background
}

@mixin light-theme {
  --j-text-color: #333;
  --j-border-color: #ddd;
  --j-neutral-color: #555;
  --j-foreground-color: #202020;
  --j-foreground-color-1: #494949;
  --j-foreground-color-2: #bcbcbc;
  --j-background-color: white;
  --j-background-color-1: #eee;
  --j-background-color-2: #d8d8d8;
}

@mixin dark-theme {
  --j-text-color: #dedede;
  --j-border-color: #747474;
  --j-neutral-color: #ddd;
  --j-foreground-color: #ccc;
  --j-foreground-color-1: #888;
  --j-foreground-color-2: #555;
  --j-background-color: #323133;
  --j-background-color-1: #464547;
  --j-background-color-2: #494949;
}

.j-theme-default {
  @include use-theme(#2196f3);
  @include light-theme;
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.j-light {
  @include light-theme;
}

.j-dark {
  @include dark-theme;
}

$color-config: (
  "primary": (#2196f3, white),
  "secondary": (#f82c69, white),
  "success": (#70b137, white),
  "info": (#19c1df, white),
  "warning": (#ffa149, black),
  "danger": (#da2a2a, white),
  "help": (#9c27b0, white),  
);

@each $name, $colors in $color-config {
  .j-#{$name} {
    @include use-theme(list.nth($colors, 1), list.nth($colors, 2));
  }
}

:root {
  @each $name, $colors in $color-config {
    --j-#{$name}-color: #{list.nth($colors, 1)};
  }
}